## chap07 量词

### 贪心、懒惰和占有

量词自身是贪心的，贪心的量词会首先匹配整个字符串，尝试匹配时，它会选定尽可能多的内容，也就是整个输入，量词首次尝试匹配整个字符串，如果失败则回退一个字符后再次尝试。这个过程叫做回溯(backtracking)。它会每次回退一个字符，直到找到匹配的内容或者没有字符可尝试为止。此外，它还会记录所有的行为，因此相较于另外两种方式，它对资源的消耗最大</br>

懒惰（有时也说勉强）的量词则使用另一种策略。它从目标的起始位置开始尝试寻找匹配，每次检查字符串的一个字符，寻找它要匹配的内容，最后，它会尝试匹配整个字符串。要使一个量词成为懒惰的，必须在普通量词后添加一个问号(?)</br>

占有量词会覆盖整个目标然后尝试寻找匹配内容，但它只尝试一次，不会回溯。占有量词就是在普通量词之后添加一个加号(+).</br>

### 用*、+和？进行匹配

`.*`它将会以贪心的方式匹配住文本中的所有字符(数字)</br>
正则表达式后跟一个"*"(Kleene星号)表示该正则表达式所匹配的文本接连出现任意次(包括零次)</br>

```
?                   零个或一个（可选）
*                   零个或多个
+                   一个或多个
```
这些量词默认是贪心的</br>

### 匹配特定次数
使用花括号可以限制某个模式在某个范围内匹配的次数，未经修饰的量词就是贪心量词</br>

语法如下:</br>
```
{n}     精准匹配n次
{n,}    匹配n次或更多次
{m,n}   匹配m至n次
{0,1}   与?相同(零次或一次)
{1,}    与+相同（一次或更多）
{0,}    与*相同（零次或更多）
```

### 懒惰量词

如果你想匹配最少而不是最多数目的字符，就可以使用懒惰量词</br>
`5??` 再加一个?来使量词变为懒惰的 它不匹配任何内容</br>
`5*?` 它也不匹配任何内容，因为它可以选择匹配最少的次数——零次</br>
`5+?` 懒惰特性使其只匹配了一个5</br>
`5{2,5}?` 只匹配了2个5</br>

```
??      懒惰匹配零次或一次
+?      懒惰匹配一次或多次
*?      懒惰匹配零次或多次
{n}?    懒惰匹配n次
{n,}?   懒惰匹配n次或多次
{m,n}?  懒惰匹配m至n次
```

### 占有量词
占有式匹配很像贪心式匹配，它会选定尽可能多的内容，但与贪心式匹配不同的是它不进行回溯。它不会放弃所找到的内容，它很自私，这也是把它称为占有式(possessive)的原因。它紧紧“抱”住自己所选的内容，一点也不放弃。但占有量词的优点是速度快，因为无需回溯</br>
再加一个+来使量词变为占有式量词</br>
当你知道文本中的内容时，就直到在哪里可以找到匹配，这是你就应该会使用占有量词。你不在乎它是否会选定所有的内容，占有式匹配有助于提高匹配的性能</br>