# chap 04

gcc 选项概述

`gcc -c test.c`: 把源代码(.c)编译成目标代码(.o)，但是跳过连接一步。</br>
`gcc -S test.c`: 在C程序文件产生了汇编语言文件后，停止编译，汇编语言文件默认文件扩展名.s</br>
`gcc -v`: 显示gcc版本</br>
`gcc -V 2.6.3 -v`: -V是强制执行其中的某个版本</br>
`-m***`:另一类优化编译的选项，***代表用户用的中央处理器的型号</br>
`gcc -Wall -o test test.c` 控制警告信息</br>

`-O1(-O),-O2,-O3 优化代码，数字越高，优化级别越高` -O2 为实践中常用等级</br>
`time ./a.out`time命令检测程序运行的时间
```
gcc 管理大型项目时，分别将每个模块单独编译为.o文件（-c），然后在连接成可执行文件.
```
```
指定查找路径：
当用户建立一个项目时，gcc将使用默认的路径，去查找和使用头文件和库文件。

gcc -Wall -I/usr/include/zw -o test test.c
当编译的程序要包含一个文件zw.h，而这个文件在/usr/include/zw目录下，不在默认的查询目录下，使用该命令，就能找到所需的zw.h文件

gcc -L/usr/X11R6/lib -Wall -o test test.c -lX11
当连接X11库时，-L指明库路径，还要告诉连接器库的名字.
```

```
连接库：
如果在程序中连接库，使用-l选项，这个库可以是静态的，也可以是共享的。这个选项只能在编译中连接的最后阶段才能指定。
(-lm 数学库)
gcc -o test test3a.o test3b.o test3.o -lm
gcc -Wall -o test test.c -lm 
```

```
通过使用管道，可以同时调用多个程序，一个程序的输出作为输入直接送给另外一个程序，而且还可以一直连接下去，不需要临时文件。
gcc -pipe -Wall -O3 -o test test.c
```

```
C预处理器cpp
通常用来处理#后面的语句。
可以在命令行中使用cpp，也可以使用gcc -E调用cpp
cpp test.c
gcc -E test.c
```

```
GNU连接器ld
较大程序，经常分成许多独立的模块，需要连接器把所有模块组合起来，并结合C函数库和初始化代码，产生可执行文件.
ld 被编译器gcc所调用，产生可执行代码

GNU汇编器as
as会处理汇编代码，从而产生目标文件（二进制文件）
通常被gcc调用，要使用汇编语言编写程序，也可以手工调用

文件处理器ar
可以使用ar程序建立静态库，把几个小文件组合成一个大文件。建立静态库时，必须把多个.o文件组合成一个单独的.a文件。

库显示ldd
ldd ./test
```


